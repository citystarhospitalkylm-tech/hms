{% extends "base.html" %}
{% block title %}Users{% endblock %}

{% block content %}
<h2>Users</h2>
<a href="{% url 'users:create' %}">Create New User</a>
<table>
  <thead>
    <tr>
      <th>ID</th><th>Username</th><th>Name</th><th>Email</th><th>Roles</th><th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user.id }}</td>
      <td>{{ user.username }}</td>
      <td>{{ user.get_full_name }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.groups.all|join:", " }}</td>
      <td>
        <a href="{% url 'users:edit' user.id %}">Edit</a> |
        <a href="{% url 'users:delete' user.id %}">Delete</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6">No users found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}